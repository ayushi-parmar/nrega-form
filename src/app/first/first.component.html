
<div class="container-fluid">
    <h3 class="text-center heading">DETAILS NEEDED FOR APPLICATION FOR REGISTRATION UNDER EGS</h3>
     <div class="reg_no">
     <input class="w-25" type="text">
     </div>
    <h6 class="text-center mt-3">Registration No. (to be assigned by Gram Panchayat)</h6>
    </div>
  
  <div class="container">
      <form [formGroup]="registrationform" (ng-submit)="onsubmit()">
       <div class="row  pt-5">
  
       <div class="col-md-6">
          <button  style="margin-left:80%; margin-bottom:20px;" class="btn btn-primary"(click)="addusers()" >Add</button>
          
          <ol>
            <li>
                <div class="form-group">
                    <label>Names/Age/Sex of Applicants</label>                                                                           ,,,,,,,                    
                    <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>S.no</th>
                            <th>Name</th>
                            <th>lname</th>
                            <th>age</th>
                          </tr>
                        </thead>
                        <tbody formArrayName="users" *ngFor="let user of users.controls; let i= index ">
                          
                          <tr [formGroupName]="i">
                            <td class="form-group">
                                <input  
                                 formControlName="Sno"  type="text" name=Sno class="form-control ">
                                 <!-- <small [class.d-none]="users.get('Sno').valid || users.get('Sno').untouched "class="text-danger">sno is required</small> -->
                                 <label *ngIf="users.controls[i].get('Sno').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"
                                 class="error">
                                 Age required.
                               </label>
                            </td>
  
                            <td class="form-group">
                                <input   formControlName="name" type="text"  name="name" class="form-control" >
                                <!-- <small [class.d-none]="registrationform.get('name').valid || registrationform.get('name').untouched "class="text-danger">name is required</small> -->
                                <label *ngIf="users.controls[i].get('name').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"
                                class="error">
                                Age required.
                              </label>
                            </td>
  
                            <td class="form-group">
                                <input  formControlName="lname" type="text" name="lname" class="form-control">
                                <!-- <small [class.d-none]="registrationform.get('lname').valid || registrationform.get('lname').untouched "class="text-danger">lname is required</small> -->

                            </td>
  
                            <td class="form-group">
                                <input  formControlName="age" type="number"  name="age" class="form-control" >
                                <!-- <small [class.d-none]="registrationform.get('age').valid || registrationform.get('age').untouched "class="text-danger">age is required</small> -->

                            </td>
                          </tr>                         
                        </tbody>
                      </table>
                </div>
                </li>

              <li>
                <div class="form-group">
                    <label>Name of Village : &nbsp;</label>
                    <input  [class.is-invalid]="village.invalid && village.touched
                    " formControlName="village" type="text"  class="form-control" >
                    <!-- <small [class.d-none]=egistrationform.get('village')"village.valid || village.untouched "class="text-danger">village is required</small> -->
                    <div *ngIf="village.invalid && village.touched ">
                    <small class="text-danger" *ngIf="village.errors?.required">village is required</small>
                    <small class="text-danger"*ngIf="village.errors?.minlength">village is 3 characters</small>
                    </div>
                    </div>
             </li>
  
            <li>
                <div class="form-group">
                    <label>Name of Gram panchayat : &nbsp;</label>
                    <input  [class.is-invalid]="registrationform.get('gramp').invalid && registrationform.get('gramp').touched
                    "  formControlName="gramp"type="text"  class="form-control">
                    <small [class.d-none]="registrationform.get('gramp').valid || registrationform.get('gramp').untouched "class="text-danger">gramp is required</small>

                    </div>  
            </li>
  
            <li>
                <div class="form-group">
                    <label>Name of Block : &nbsp;</label>
                    <input  [class.is-invalid]="registrationform.get('block').invalid && registrationform.get('block').touched
                    " formControlName="block" type="text"  class="form-control">
                    <small [class.d-none]="registrationform.get('block').valid || registrationform.get('block').untouched "class="text-danger">block is required</small>
                    </div>
            </li>
          </ol>      
      </div>
  

      <div class="col-md-6 image">
          <input [class.is-invalid]="registrationform.get('image').invalid && registrationform.get('image').touched
          "  formControlName="image" type="file" name="pic" accept="image/*">
          <small [class.d-none]="registrationform.get('image').valid || registrationform.get('image').untouched "class="text-danger">image is required</small>
    </div>

     
      <button  type="submit" style="margin-left: 45%;" (click)="onSubmit()" >Submit</button>

    </div>
    </form>

    </div> 
     
    <p> Form Value: {{ registrationform.value | json }}</p>